<!DOCTYPE html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.48" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://ctu.zenfection.com/guide/advanced/pwa.html"><meta property="og:site_name" content="vuepress-theme-hope"><meta property="og:title" content="PWA"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-07-01T06:47:49.000Z"><meta property="og:locale" content="en-US"><meta property="og:locale:alternate" content="zh-CN"><meta property="article:tag" content="Advanced"><meta property="article:tag" content="PWA"><meta property="article:modified_time" content="2022-07-01T06:47:49.000Z"><meta name="google-site-verification" content="qG3soux9jAKB4Q_DYf7yj1p5cEIuib6yG4zDhpmv2_E"><link rel="icon" href="/favicon.ico"><link rel="icon" href="/assets/icon/chrome-mask-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/assets/icon/chrome-mask-192.png" type="image/png" sizes="192x192"><link rel="icon" href="/assets/icon/chrome-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/assets/icon/chrome-192.png" type="image/png" sizes="192x192"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/assets/icon/apple-icon-152.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/assets/icon/ms-icon-144.png"><meta name="msapplication-TileColor" content="#ffffff"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>PWA | vuepress-theme-hope</title><meta name="description" content="A vuepress theme with tons of features✨">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/css/styles.b893bb13.css">
    <link rel="preload" href="/assets/js/runtime~app.e7379357.js" as="script"><link rel="preload" href="/assets/css/styles.b893bb13.css" as="style"><link rel="preload" href="/assets/js/1394.60e12498.js" as="script"><link rel="preload" href="/assets/js/app.8fee993a.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo" src="/logo.svg" alt="vuepress-theme-hope"><!----><span class="site-name hide-in-pad">vuepress-theme-hope</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/guide/" class="nav-link active" aria-label="Guide"><span class="icon iconfont icon-creative" style=""></span>Guide<!----></a></div><div class="nav-item hide-in-mobile"><a href="/config/" class="nav-link" aria-label="Config"><span class="icon iconfont icon-config" style=""></span>Config<!----></a></div><div class="nav-item hide-in-mobile"><a href="/faq/" class="nav-link" aria-label="FAQ"><span class="icon iconfont icon-question" style=""></span>FAQ<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Cookbook"><span class="title"><span class="icon iconfont icon-guide" style=""></span>Cookbook</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/cookbook/tutorial/" class="nav-link" aria-label="Step by Step Tutorial"><span class="icon iconfont icon-guide" style=""></span>Step by Step Tutorial<!----></a></li><li class="dropdown-item"><a href="/cookbook/markdown/" class="nav-link" aria-label="Markdown Introduction"><span class="icon iconfont icon-markdown" style=""></span>Markdown Introduction<!----></a></li><li class="dropdown-item"><a href="/cookbook/vuepress/" class="nav-link" aria-label="About VuePress"><span class="icon iconfont icon-vue" style=""></span>About VuePress<!----></a></li><li class="dropdown-item"><a href="/cookbook/advanced/" class="nav-link" aria-label="Advanced"><span class="icon iconfont icon-advance" style=""></span>Advanced<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/migration/" class="nav-link" aria-label="V2 Migration"><span class="icon iconfont icon-change" style=""></span>V2 Migration<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Project"><span class="title"><span class="icon iconfont icon-info" style=""></span>Project</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/changelog" class="nav-link" aria-label="/changelog"><!---->/changelog<!----></a></li><li class="dropdown-item"><a href="/demo" class="nav-link" aria-label="/demo"><!---->/demo<!----></a></li><li class="dropdown-item"><a href="/contribution" class="nav-link" aria-label="/contribution"><!---->/contribution<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Plugins</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://vuepress-theme-hope.github.io/v2/blog/" rel="noopener noreferrer" target="_blank" aria-label="Blog Plugin" class="nav-link"><span class="icon iconfont icon-blog" style=""></span>Blog Plugin<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-subitem"><a href="https://vuepress-theme-hope.github.io/v2/comment/" rel="noopener noreferrer" target="_blank" aria-label="Comment Plugin" class="nav-link"><span class="icon iconfont icon-comment" style=""></span>Comment Plugin<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-subitem"><a href="https://vuepress-theme-hope.github.io/v2/components/" rel="noopener noreferrer" target="_blank" aria-label="Components Plugin" class="nav-link"><span class="icon iconfont icon-plugin" style=""></span>Components Plugin<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-subitem"><a href="https://vuepress-theme-hope.github.io/v2/copy-code/" rel="noopener noreferrer" target="_blank" aria-label="Copy Code Plugin" class="nav-link"><span class="icon iconfont icon-copy" style=""></span>Copy Code Plugin<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-subitem"><a href="https://vuepress-theme-hope.github.io/v2/copyright/" rel="noopener noreferrer" target="_blank" aria-label="Copyright Plugin" class="nav-link"><span class="icon iconfont icon-copyright" style=""></span>Copyright Plugin<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-subitem"><a href="https://vuepress-theme-hope.github.io/v2/feed/" rel="noopener noreferrer" target="_blank" aria-label="Feed Plugin" class="nav-link"><span class="icon iconfont icon-rss" style=""></span>Feed Plugin<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-subitem"><a href="https://vuepress-theme-hope.github.io/v2/lightgallery/" rel="noopener noreferrer" target="_blank" aria-label="LightGallery Plugin" class="nav-link"><span class="icon iconfont icon-pic" style=""></span>LightGallery Plugin<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-subitem"><a href="https://vuepress-theme-hope.github.io/v2/md-enhance/" rel="noopener noreferrer" target="_blank" aria-label="Markdown Enhance Plugin" class="nav-link"><span class="icon iconfont icon-markdown" style=""></span>Markdown Enhance Plugin<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-subitem"><a href="https://vuepress-theme-hope.github.io/v2/photo-swipe/" rel="noopener noreferrer" target="_blank" aria-label="Photo Swipe Plugin" class="nav-link"><span class="icon iconfont icon-pic" style=""></span>Photo Swipe Plugin<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-subitem"><a href="https://vuepress-theme-hope.github.io/v2/pwa/" rel="noopener noreferrer" target="_blank" aria-label="PWA Plugin" class="nav-link"><span class="icon iconfont icon-app" style=""></span>PWA Plugin<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-subitem"><a href="https://vuepress-theme-hope.github.io/v2/reading-time/" rel="noopener noreferrer" target="_blank" aria-label="Reading Time Plugin" class="nav-link"><span class="icon iconfont icon-read" style=""></span>Reading Time Plugin<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-subitem"><a href="https://vuepress-theme-hope.github.io/v2/redirect/" rel="noopener noreferrer" target="_blank" aria-label="Redirect Plugin" class="nav-link"><span class="icon iconfont icon-navigation" style=""></span>Redirect Plugin<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-subitem"><a href="https://vuepress-theme-hope.github.io/v2/sass-palette/" rel="noopener noreferrer" target="_blank" aria-label="Sass Palette Plugin" class="nav-link"><span class="icon iconfont icon-palette" style=""></span>Sass Palette Plugin<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-subitem"><a href="https://vuepress-theme-hope.github.io/v2/seo/" rel="noopener noreferrer" target="_blank" aria-label="Seo Plugin" class="nav-link"><span class="icon iconfont icon-strong" style=""></span>Seo Plugin<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-subitem"><a href="https://vuepress-theme-hope.github.io/v2/sitemap/" rel="noopener noreferrer" target="_blank" aria-label="Sitemap Plugin" class="nav-link"><span class="icon iconfont icon-sitemap" style=""></span>Sitemap Plugin<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li></ul></li></ul></button></div></div></nav><!----></div><div class="navbar-right"><!----><div class="nav-item"><div class="dropdown-wrapper i18n-dropdown"><button class="dropdown-title" type="button" aria-label="Select language"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-current="page" href="/guide/advanced/pwa.html" class="router-link-active router-link-exact-active nav-link active" aria-label="English"><!---->English<!----></a></li><li class="dropdown-item"><a href="/zh/" class="nav-link" aria-label="简体中文"><!---->简体中文<!----></a></li></ul></button></div></div><div class="nav-item"><a class="repo-link" href="https://github.com/zenfection/zenctu" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><div id="docsearch-container"></div><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-creative" style=""></span><span class="title">Get Started</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-palette" style=""></span><span class="title">Interface</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-markdown" style=""></span><span class="title">Markdown Enhance</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-layout" style=""></span><span class="title">Layout</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-discover" style=""></span><span class="title">Features</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-blog" style=""></span><span class="title">Blog</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="icon iconfont icon-advance" style=""></span><span class="title">Advanced</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/guide/advanced/feed.html" class="nav-link sidebar-link sidebar-page" aria-label="Feed Support"><span class="icon iconfont icon-rss" style=""></span>Feed Support<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/guide/advanced/pwa.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="PWA"><span class="icon iconfont icon-setting" style=""></span>PWA<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/guide/advanced/pwa.html#direct-enable" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Direct Enable"><!---->Direct Enable<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/guide/advanced/pwa.html#intro" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Intro"><!---->Intro<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/guide/advanced/pwa.html#cache-control" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Cache Control"><!---->Cache Control<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/guide/advanced/pwa.html#default-cache" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Default Cache"><!---->Default Cache<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/guide/advanced/pwa.html#image-cache" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Image Cache"><!---->Image Cache<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/guide/advanced/pwa.html#html-cache" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="HTML Cache"><!---->HTML Cache<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/guide/advanced/pwa.html#size-control" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Size Control"><!---->Size Control<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/guide/advanced/pwa.html#update-control" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Update Control"><!---->Update Control<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/guide/advanced/pwa.html#update-prompt-popup" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Update Prompt Popup"><!---->Update Prompt Popup<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/guide/advanced/pwa.html#update-ready-popup" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Update Ready Popup"><!---->Update Ready Popup<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/guide/advanced/pwa.html#manifest-generation" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Manifest Generation"><!---->Manifest Generation<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/guide/advanced/pwa.html#automatic-generation" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Automatic Generation"><!---->Automatic Generation<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/guide/advanced/pwa.html#manual-config" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Manual Config"><!---->Manual Config<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/guide/advanced/pwa.html#other-options" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Other Options"><!---->Other Options<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/guide/advanced/pwa.html#further-reading" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Further Reading"><!---->Further Reading<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/guide/advanced/seo.html" class="nav-link sidebar-link sidebar-page" aria-label="SEO"><span class="icon iconfont icon-config" style=""></span>SEO<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/guide/advanced/sitemap.html" class="nav-link sidebar-link sidebar-page" aria-label="Sitemap"><span class="icon iconfont icon-sitemap" style=""></span>Sitemap<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><span class="icon iconfont icon-setting" style=""></span>PWA</h1><div class="page-info"><span class="category-info" aria-label="Category🌈" data-balloon-pos="down" localizeddate="July 1, 2022" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li class="category category4 clickable" role="navigation">Advanced</li><meta property="articleSection" content="Advanced"></ul></span><span aria-label="Tag🏷" data-balloon-pos="down" localizeddate="July 1, 2022" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li class="tag tag4 clickable" role="navigation">Advanced</li><li class="tag tag6 clickable" role="navigation">PWA</li></ul><meta property="keywords" content="Advanced,PWA"></span><span class="reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="down" localizeddate="July 1, 2022" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 7 min</span><meta property="timeRequired" content="PT7M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">On This Page</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/guide/advanced/pwa.html#direct-enable" class="router-link-active router-link-exact-active toc-link level2">Direct Enable</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/guide/advanced/pwa.html#intro" class="router-link-active router-link-exact-active toc-link level2">Intro</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/guide/advanced/pwa.html#cache-control" class="router-link-active router-link-exact-active toc-link level2">Cache Control</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/guide/advanced/pwa.html#default-cache" class="router-link-active router-link-exact-active toc-link level3">Default Cache</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/guide/advanced/pwa.html#image-cache" class="router-link-active router-link-exact-active toc-link level3">Image Cache</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/guide/advanced/pwa.html#html-cache" class="router-link-active router-link-exact-active toc-link level3">HTML Cache</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/guide/advanced/pwa.html#size-control" class="router-link-active router-link-exact-active toc-link level3">Size Control</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/guide/advanced/pwa.html#update-control" class="router-link-active router-link-exact-active toc-link level2">Update Control</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/guide/advanced/pwa.html#update-prompt-popup" class="router-link-active router-link-exact-active toc-link level3">Update Prompt Popup</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/guide/advanced/pwa.html#update-ready-popup" class="router-link-active router-link-exact-active toc-link level3">Update Ready Popup</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/guide/advanced/pwa.html#manifest-generation" class="router-link-active router-link-exact-active toc-link level2">Manifest Generation</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/guide/advanced/pwa.html#automatic-generation" class="router-link-active router-link-exact-active toc-link level3">Automatic Generation</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/guide/advanced/pwa.html#manual-config" class="router-link-active router-link-exact-active toc-link level3">Manual Config</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/guide/advanced/pwa.html#other-options" class="router-link-active router-link-exact-active toc-link level2">Other Options</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/guide/advanced/pwa.html#further-reading" class="router-link-active router-link-exact-active toc-link level2">Further Reading</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><p>The theme provides progressive web app support <sup class="footnote-ref"><a href="#footnote1">[1]</a><a class="footnote-anchor" id="footnote-ref1"></a></sup> via built-in <a href="https://vuepress-theme-hope.github.io/v2/pwa/" target="_blank" rel="noopener noreferrer"><code>vuepress-plugin-pwa2</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, and it’s disabled by default.</p><div class="custom-container info"><p class="custom-container-title">Info</p><p><code>vuepress-theme-hope</code> passes <code>plugins.pwa</code> in theme options as plugin options to <code>vuepress-plugin-pwa2</code>.</p><p>If you are using this plugin, we recommend you to set <code>shouldPrefetch: false</code> in your VuePress config file.</p></div><!-- more --><h2 id="direct-enable" tabindex="-1"><a class="header-anchor" href="#direct-enable" aria-hidden="true">#</a> Direct Enable <span class="badge warning" style="vertical-align:top;">Not recommended</span></h2><p>You can set <code>plugins.pwa</code> to <code>true</code> in theme options to let theme automatically generate the necessary config and enable plugins quickly. However, we recommend you to manually set some options by following the instructions below.</p><h2 id="intro" tabindex="-1"><a class="header-anchor" href="#intro" aria-hidden="true">#</a> Intro</h2><p>Service Worker <sup class="footnote-ref"><a href="#footnote2">[2]</a><a class="footnote-anchor" id="footnote-ref2"></a></sup> (SW for short) is mainly used to cache and proxy site content.</p><p>This plugin will automatically register Service Worker through <code>workbox-build</code>. To better control what the Service Worker can pre-cache, the plugin provides the following configurations.</p><div class="custom-container tip"><p class="custom-container-title">Tips</p><p>If you are an advanced user, you can also set <code>plugins.pwa.generateSwConfig</code> in theme options directly to pass options to <code>workbox-build</code>.</p></div><h2 id="cache-control" tabindex="-1"><a class="header-anchor" href="#cache-control" aria-hidden="true">#</a> Cache Control</h2><p>Based on the requirement of installable <sup class="footnote-ref"><a href="#footnote3">[3]</a><a class="footnote-anchor" id="footnote-ref3"></a></sup>, the plugin provides related options for cache control.</p><h3 id="default-cache" tabindex="-1"><a class="header-anchor" href="#default-cache" aria-hidden="true">#</a> Default Cache</h3><p>By default, the plugin will pre-cache all the <code>js</code> <code>css</code> and <code>svg</code>.And only homepage and 404 <code>html</code> are cached.</p><p>At the same time, the plugin will cache font files: <code>**/*.{woff,woff2,eot,ttf,otf}</code>.</p><h3 id="image-cache" tabindex="-1"><a class="header-anchor" href="#image-cache" aria-hidden="true">#</a> Image Cache</h3><p>You can cache site pictures by setting the <code>plugins.pwa.cachePic</code> option to <code>true</code>.</p><p>If your site is not large and the pictures are mostly critical descriptions, and hope to be displayed in offline mode, please set this option to <code>true</code>.</p><div class="custom-container info"><p class="custom-container-title">Image recognition</p><p>We recognize images by file extension. Any files ending with <code>.png</code>, <code>.jpg</code>, <code>.jpeg</code>, <code>.gif</code>, <code>.bmp</code>, <code>.webp</code> will be regarded as images.</p></div><h3 id="html-cache" tabindex="-1"><a class="header-anchor" href="#html-cache" aria-hidden="true">#</a> HTML Cache</h3><p>If you have small sites, and would like to make document fully offline available, you can set <code>plugins.pwa.cacheHTML</code> to <code>true</code> to cache all HTML files.</p><div class="custom-container tip"><p class="custom-container-title">Why only home and 404 page been cached by default?</p><p>Though VuePress generates HTML files through SSR<sup class="footnote-ref"><a href="#footnote4">[4]</a><a class="footnote-anchor" id="footnote-ref4"></a></sup> for all pages, these files are mainly used for SEO<sup class="footnote-ref"><a href="#footnote5">[5]</a><a class="footnote-anchor" id="footnote-ref5"></a></sup> and allow you to directly configure the backend without SPA<sup class="footnote-ref"><a href="#footnote6">[6]</a><a class="footnote-anchor" id="footnote-ref6"></a></sup> Visit any link.</p><p>VuePress is essentially a SPA. This means that you only need to cache the home page and enter from the home page to access all pages normally. Therefore, not caching other HTML by default can effectively reduce the cache size (40% smaller in size) and speed up the SW update speed.</p><p>But this also has the disadvantage. If the user enters the site directly from a non-home page, the HTML file for the first page still needs to be loaded from the internet. Also, in offline environment, users can only enter through the homepage and then navigate to the corresponding page by themselves. If they directly access a link, an inaccessible prompt will appear.</p></div><h3 id="size-control" tabindex="-1"><a class="header-anchor" href="#size-control" aria-hidden="true">#</a> Size Control</h3><p>To prevent large files from being included in the pre-cache list, any files larger than 2MB or pictures larger than 1MB will be deleted.</p><p>You can customize the maximum file size of the cache (unit: KB) with the <code>plugins.pwa.maxSize</code> option, or change the size limit of the picture (unit: KB) with <code>plugins.pwa.maxPicSize</code>.</p><h2 id="update-control" tabindex="-1"><a class="header-anchor" href="#update-control" aria-hidden="true">#</a> Update Control</h2><p>We provide the <code>plugins.pwa.update</code> option to control how users receive updates.</p><p>The default value of the <code>update</code> option is <code>&quot;available&quot;</code>, which means that when new content available, the new SW will be installed silently in the background, and a pop-up window will prompt the user that the new content is ready after SW finish installing. Users can choose whether to refresh immediately to view new content.</p><p>Under the default behavior, users will still read old content before the SW is ready and they will not be prompted. If your project is still in building stage and you want to alert the user that he may be reading outdated content, you can set this to <code>&quot;hint&quot;</code>. This allows users to be notified that new content has been published within seconds after visiting docs. But the negative effect of this is that if the user chooses to update before the new SW is ready, he will need to get all the resources of the page from the internet before the new SW installs and controls the page.</p><p>If your docs are stable, or you’re hosting a blog and don’t care much about users receiving the latest version right away, you can set this to <code>&quot;disabled&quot;</code>, which means that the new SW will be installed completely silently in the background and start waiting, when the pages controlled by the old version SW are all closed, the new SW will start to take control and provide users with new content the next time users visit. This setting can prevent users from being disturbed by the pop-up window in the bottom right corner during the visit.</p><p>To speed up user access under weak or no network conditions through SW, but also want users to always access new content, you can set this option to <code>&quot;force&quot;</code>. The behavior of this option is to unregister old SW as soon as a new SW is detected and refresh the page to ensure the user is browsing the latest content. But we strongly recommend not using this option unless necessary, as after a new SW is released, all users will experience unexpected sudden refresh within seconds after entering the site, and they will have to access the document over the internet and install the whole latest SW.</p><h3 id="update-prompt-popup" tabindex="-1"><a class="header-anchor" href="#update-prompt-popup" aria-hidden="true">#</a> Update Prompt Popup</h3><p>When new content is detected (new SW detected), an update prompt popup will appear in the bottom right corner and allow the user to refresh and apply.</p><div class="custom-container tip"><p class="custom-container-title">custom popup</p><p>If you are not satisfied with the default popup, you can write your own component. You need to register your own popup component globally and pass the name of the component to the <code>plugins.pwa.hintComponent</code> option .</p></div><h3 id="update-ready-popup" tabindex="-1"><a class="header-anchor" href="#update-ready-popup" aria-hidden="true">#</a> Update Ready Popup</h3><p>When the new content is ready (the new SW installed successfully and started waiting), the update ready popup will appear in the bottom right corner and allow the user to refresh and apply.</p><div class="custom-container tip"><p class="custom-container-title">custom popup</p><p>If you are not satisfied with the default popup, you can write your own component. You need to register your popup component globally and pass the name of the component to the <code>plugins.pwa.updateComponent</code> option.</p></div><h2 id="manifest-generation" tabindex="-1"><a class="header-anchor" href="#manifest-generation" aria-hidden="true">#</a> Manifest Generation</h2><p>To ensure the installability of PWA, the site needs to generate a manifest file and declare a valid manifest file address <sup class="footnote-ref"><a href="#footnote7">[7]</a><a class="footnote-anchor" id="footnote-ref7"></a></sup> through <code>&lt;link&gt;</code>.</p><p>The plugin will automatically generate the Manifest file <code>manifest.webmanifest</code> for you in the output directory, and will also add the manifest address statement to each HTML <code>&lt;head&gt;</code>.</p><p>If you already have a <code>manifest.webmanifest</code> or <code>manifest.json</code> in <code>.vuepress/public</code>, the plugin will read and merge it into the final manifest.</p><h3 id="automatic-generation" tabindex="-1"><a class="header-anchor" href="#automatic-generation" aria-hidden="true">#</a> Automatic Generation</h3><p>The plugin will use the information from the VuePress plugin API and set the fallback for fields in manifest as much as possible. So you don’t need to set most of the manifest fields.</p><p>If the following fields are not set, they will try to fallback to the following preset values in order.</p><table><thead><tr><th>Options</th><th>Default value</th></tr></thead><tbody><tr><td>name</td><td><code>siteConfig.title</code> || <code>siteConfig.locales[&#39;/&#39;].title</code> || <code>&quot;Site&quot;</code></td></tr><tr><td>short_name</td><td><code>siteConfig.title</code> || <code>siteConfig.locales[&#39;/&#39;].title</code> || <code>&quot;Site&quot;</code></td></tr><tr><td>description</td><td><code>siteConfig.description</code> || <code>siteConfig.locales[&#39;/&#39;].description</code> || <code>&quot;A site built with vuepress&quot;</code></td></tr><tr><td>lang</td><td><code>siteConfig.locales[&#39;/&#39;].lang</code> || <code>&quot;en-US&quot;</code></td></tr><tr><td>start_url</td><td><code>siteConfig.base</code></td></tr><tr><td>scope</td><td><code>siteConfig.base</code></td></tr><tr><td>display</td><td><code>&quot;standalone&quot;</code></td></tr><tr><td>theme_color</td><td><code>&quot;#46bd87&quot;</code></td></tr><tr><td>background_color</td><td><code>&quot;#ffffff&quot;</code></td></tr><tr><td>orientation</td><td><code>&quot;portrait-primary&quot;</code></td></tr><tr><td>prefer_related_applications</td><td><code>false</code></td></tr></tbody></table><p>For complete configuration items, please see <a href="https://github.com/vuepress-theme-hope/vuepress-theme-hope/blob/main/packages/pwa2/src/shared/manifest.ts" target="_blank" rel="noopener noreferrer">Manifest Type Definition File<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><h3 id="manual-config" tabindex="-1"><a class="header-anchor" href="#manual-config" aria-hidden="true">#</a> Manual Config</h3><p>You can manually specify the contents of the manifest with <code>plugins.pwa.manifest</code> in theme options.</p><div class="custom-container tip"><p class="custom-container-title">Priority</p><p><code>plugins.pwa.manifest</code> option in theme option has the highest priority, followed by manifest files that may exist in the <code>public</code> folder.</p></div><p><strong>You should at least set a valid icon through <code>manifest.icons</code> in <code>plugins.pwa</code> or other icon related options in the PWA plugin.</strong></p><div class="custom-container warning"><p class="custom-container-title">Note</p><p>The installability <sup class="footnote-ref"><a href="#footnote3">[3:1]</a><a class="footnote-anchor" id="footnote-ref3:1"></a></sup> specification requires at least one valid icon to be declared in the manifest.</p><p>So if you do not configure <code>manifest.icons</code> in <code>plugins.pwa</code>, visitors can only enjoy the offline accessibility brought by the Service Worker cache, while cannot install your site as a PWA.</p><p>Besides the plugin does not process anything in the manifest by default, but outputs them as-is. This means that if you plan to deploy to a subdirectory, you should append the URL prefix to manifest Urls yourself.</p><p>But, if everything you need is all under base folder, you can set <code>appendBase: true</code> in <code>plugins.pwa</code> to let the plugin append <code>base</code> to any links in it.</p></div><h2 id="other-options" tabindex="-1"><a class="header-anchor" href="#other-options" aria-hidden="true">#</a> Other Options</h2><p>The plugin also provides other PWA-related options, such as Microsoft tile icon and color settings, Apple icon and so on.</p><p>You can set them as needed. For detailed options, please see <a href="/config/plugins/pwa.html" class="">PWA config</a>.</p><h2 id="further-reading" tabindex="-1"><a class="header-anchor" href="#further-reading" aria-hidden="true">#</a> Further Reading</h2><p>For more details, please see:</p><ul><li><a href="https://vuepress-theme-hope.github.io/v2/pwa/" target="_blank" rel="noopener noreferrer">PWA plugin docs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://web.dev/progressive-web-apps/" target="_blank" rel="noopener noreferrer">Google PWA<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps" target="_blank" rel="noopener noreferrer">MDN PWA<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://w3c.github.io/manifest/" target="_blank" rel="noopener noreferrer">W3C Manifest Specification<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="footnote1" class="footnote-item"><p><strong>PWA introduction</strong></p><p>PWA, full name Progressive Web app. PWA standard is stipulated by W3C.</p><p>It allows sites to install the site as an App on supported platform through a browser that supports this feature. <a href="#footnote-ref1" class="footnote-backref">↩︎</a></p></li><li id="footnote2" class="footnote-item"><p><strong>Service Worker Introduction</strong></p><ol><li><p>The Service Worker will get and cache all the files registered in it during the registration process.</p></li><li><p>After the registration complete, the Service Worker is activated, and starts to proxy and control all your requests.</p></li><li><p>Whenever you want to initiate an access request through the browser, the Service Worker will check whether it exists in its own cache list, if it exists, it will directly return the cached result, otherwise it will call its own fetch method to get it. You can use a custom fetch method to fully control the result of the request for resources in the web page, such as providing a fallback web page when offline.</p></li><li><p>Every time the user reopens the site, the Service Worker will request to the link when it was registered. If a new version of Service Worker is detected, it will update itself and start caching the list of resources registered in the new Service Worker . After the content update is successfully obtained, the Service Worker will trigger the <code>update</code> event. The user can be notified through this event, for example, a pop-up window will be displayed in the lower right corner, prompting the user that new content is available and allowing the user to trigger an update.</p></li></ol><a href="#footnote-ref2" class="footnote-backref">↩︎</a></li><li id="footnote3" class="footnote-item"><p><strong>Installable</strong></p><p>To let the site be registered as a PWA, the site needs to successfully register a valid service worker by itself, and at the same time add a valid manifest file and declare it.</p><p>Each platform or browser has requirements for the size of the Service Worker cache. When the file size of the Service Worker cache is too large, the site will be marked as not installable. For Safari, the threshold is 50 MB, a few browsers will set less or more values (30MB, 70MB, 80MB), and Chrome will mark the threshold at 100 MB.</p><p>The manifest file should contain at least <code>name</code> (or <code>short_name</code>) <code>icons</code> <code>start_url</code></p><div class="custom-container note"><p class="custom-container-title">Note</p><p>Starting from Chrome 93, Service Worker must contain effective fetch events to control offline requests.</p><p>However, currently the plugin does not contain relevant processing logic by default, so on Android devices with Chrome 93 or later, the site will not pop up an installation prompt.</p></div><a href="#footnote-ref3" class="footnote-backref">↩︎</a> <a href="#footnote-ref3:1" class="footnote-backref">↩︎</a></li><li id="footnote4" class="footnote-item"><p><strong>SSR</strong>: <strong>S</strong>erver <strong>S</strong>ide <strong>R</strong>endering, <a href="#footnote-ref4" class="footnote-backref">↩︎</a></p></li><li id="footnote5" class="footnote-item"><p><strong>SEO</strong>: <strong>S</strong>earch <strong>E</strong>ngine <strong>O</strong>ptimization. <a href="#footnote-ref5" class="footnote-backref">↩︎</a></p></li><li id="footnote6" class="footnote-item"><p><strong>SPA</strong>: <strong>S</strong>ingle <strong>P</strong>age <strong>A</strong>pplication, most of them only have the homepage, and use history mode to handle routing instead of actually navigating between pages. <a href="#footnote-ref6" class="footnote-backref">↩︎</a></p></li><li id="footnote7" class="footnote-item"><p><strong>Manifest File</strong></p><p>The manifest file uses the JSON format and is responsible for declaring various information of the PWA, such as name, description, icon, and shortcut actions.</p><p>In order for your site to be registered as a PWA, you need to meet the basic specifications of the manifest to make the browser consider the site as an installable PWA and allow users to install it.</p><div class="custom-container info"><p class="custom-container-title">Info</p><p>For Manifest standards and specifications, please see <a href="https://w3c.github.io/manifest/" target="_blank" rel="noopener noreferrer">W3C Manifest<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><a href="#footnote-ref7" class="footnote-backref">↩︎</a></li></ol></section></div><!----><footer class="page-meta"><!----><div class="meta-item update-time"><span class="label">Last update: </span><span class="info">7/1/2022, 1:47:49 PM</span></div><div class="meta-item contributors"><span class="label">Contributors: </span><!--[--><!--[--><span class="contributor" title="email: 44715845+Zenfection1412@users.noreply.github.com">Zenfection</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/guide/advanced/feed.html" class="nav-link prev" aria-label="Feed Support"><div class="hint"><span class="arrow left"></span>Prev</div><div class="link"><span class="icon iconfont icon-rss" style=""></span>Feed Support</div></a><a href="/guide/advanced/seo.html" class="nav-link next" aria-label="SEO"><div class="hint">Next<span class="arrow right"></span></div><div class="link">SEO<span class="icon iconfont icon-config" style=""></span></div></a></nav><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">MIT Licensed | Copyright © 2021-Zenfection</div><!----></footer><!--]--></div><!--]--><!----><!----><!--]--></div>
    <script src="/assets/js/runtime~app.e7379357.js" defer></script><script src="/assets/js/1394.60e12498.js" defer></script><script src="/assets/js/app.8fee993a.js" defer></script>
  </body>
</html>
